<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Boostrap Sidebar :: Text + Icon Menu</title>
    <link rel="shortcut icon" th:href="@{images/favicon.png}">
    <!-- Latest compiled and minified CSS -->
    <!--link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- bootstrap jquery -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/mark.js/8.6.0/jquery.mark.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    <!-- bootstrap sidebar stylesheet -->

    <link rel="stylesheet" th:href="@{/css/bootstrap.css}" />
    <link rel="stylesheet" th:href="@{/css/sidebar/bootstrap-sidebar.css}" />

    <link rel="stylesheet" type="text/css" th:href="@{/css/form/registrasi/montserrat-font.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/font/material-design-iconic-font/css/material-design-iconic-font.min.css}">
    <!-- Main Style Css -->
    <link rel="stylesheet" th:href="@{/css/form/registrasi/style.css}"/>
    <script>
        function showSuccessPopup() {
            alert("Client berhasil ditambahkan!");
        }

        window.addEventListener('pageshow', function(event) {
            if (event.persisted || window.performance.navigation.type === 2) {
                // Halaman dimuat dari cache (back button)
                window.location.reload();
            }
        });
    </script>
</head>

<body>
    <form id="logoutForm" method="POST" th:action="@{/logout}" style="display:none"></form>
    <!-- boostrap wrapper -->
    <div id="wrapper">
        <!-- Navigation -->
        <nav class="navbar navbar-dark  navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#menu-toggle" id="menu-toggle"> <span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>  <span class="logo">Bootstrap Sidebar Version 1.0</span>
                    </a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#"><span class="glyphicon glyphicon-print" aria-hidden="true"></span> Print</a>
                        </li>
                        <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> CMS <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="#"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> Pages</a>
                                </li>
                                <li><a href="#"><span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span> Posts</a>
                                </li>
                                <li><a href="#"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span> Media</a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Administrator <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="#"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Profile</a>
                                </li>
                                <li><a href="#"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Settings </a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> <span sec:authentication="principal.authorities"></span></a>
                        </li>

                        <li><a href="#" onclick="document.getElementById('logoutForm').submit(); return false;"><span class="glyphicon glyphicon-off" aria-hidden="true"></span></a>
                        </li>

                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </div>
            <!-- /.container-fluid -->
        </nav>
        <!-- Boostrap Sidebar  - Collapsible Menu Items -->
        <!-- Sidebar -->
        <div id="bootstrap-sidebar" class="blue-theme text-menu">
            <ul class="sidebar-nav">
                <li class="active"> <a th:href="@{/superuser/home}" target="_self" class="text-decoration-none"><span class="fa fa-fw fa-circle-arrow-left icon-big" aria-hidden="true"></span> Back</a>
                </li>
                <!--li> <a href="#"><span class="glyphicon glyphicon-file" aria-hidden="true"></span> <span class="menu-text">Reports</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> <span class="menu-text">Catalogue</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-inbox" aria-hidden="true"></span> <span class="menu-text">Inbox</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-heart" aria-hidden="true"></span> <span class="menu-text">Favourites</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> <span class="menu-text">Assets</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> <span class="menu-text">Tasks</span></a>
                </li>
                <li> <a href="javascript:;" data-toggle="collapse" data-target="#menu1"><i class="fa fa-fw fa-arrows-v"></i> <span class="glyphicon glyphicon-apple" aria-hidden="true"></span> Awards<b class="caret"></b> </a>
                    <ul id="menu1" class="collapse">
                        <li><a href="#">Silver</a>
                        </li>
                        <li><a href="#">Gold</a>
                        </li>
                        <li><a href="#">Crown</a>
                        </li>
                    </ul>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span> <span class="menu-text">Localization</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span> <span class="menu-text">Payments</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> <span class="menu-text">Training</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-scissors" aria-hidden="true"></span> <span class="menu-text">Customization</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> <span class="menu-text">Users</span></a>
                </li>
                <li> <a href="#"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> <span class="menu-text">Settings</span></a>
                </li-->
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->
        <div id="main-page-content">
            <!-- Modal Bootstrap 3 -->
            <!-- ✅ Success Modal (Biru) -->

            <div class="container-fluid">
                <div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary" style="color:white;">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title" id="successModalLabel">Berhasil!</h4>
                            </div>
                            <div class="modal-body">
                                Client berhasil ditambahkan ke daftar.
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ❌ Error Modal (Merah) -->
                <div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-danger" style="color:white;">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title" id="errorModalLabel">Gagal!</h4>
                            </div>
                            <div class="modal-body">
                                <b>Client gagal ditambahkan. Silakan coba lagi.</b><br>
                                <span th:text="${msg}"></span>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Tutup</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tampilkan modal kalau clientAdded=true -->
                <div th:if="${clientAdded == 'true'}">
                    <script>
                        $(document).ready(function() {
                          $('#successModal').modal('show');
                        });
                    </script>
                </div>

                <div th:if="${clientError == 'true'}">
                    <script>
                        $(document).ready(function() {
                          $('#errorModal').modal('show');
                        });
                    </script>
                </div>
                <div class="row" th:unless="${isAdd}">
                    <div class="col-lg-12" >
                        <div class="panel panel-default">
                            <div class="panel-heading">Menu</div>
                            <div class="panel-body feature-content">
                                <div class="col-md-2">
                                    <a th:href="@{/superuser/clients(add='true')}" target="_self" class="text-decoration-none">
                                        <div class="panel panel-primary">
                                            <div class="panel-body text-center">
                                                <span class="fa-solid fa-person-circle-plus icon-big" aria-hidden="true"></span>
                                                <h3>Add New Clients</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" th:if="${ourClients != null and #lists.size(ourClients) > 0}">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">List Clients</div>
                            <div class="panel-body feature-list-content" id="${client.clientName}">
                                <div class="col-md-2" th:each="client : ${ourClients}">
                                    <!--a th:href="@{/superuser/clients/home(pid=${client.pubId})}" target="_self" class="text-decoration-none"-->
                                    <a th:href="@{/admin/home(pid=${client.pubId},lang=id)}" target="_self" class="text-decoration-none">
                                        <div class="panel panel-primary fixed-panel">
                                            <div class="panel-body text-center">
                                                <span class="fa-solid fa-people-group icon-big" aria-hidden="true"></span>
                                                <h3><span th:text="${client.clientName}"></span></h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="clear:both"></div>
            </div>
            <div th:if="${isAdd}">
                <div class="row">
                    <div class="col-lg-12" >
                        <div class="panel panel-default">
                            <div class="panel-heading"><span th:text="#{label.menu}"></span></div>
                            <div class="panel-body" id="go-back">
                                <div class="col-md-2">
                                    <a th:href="@{/superuser/clients}" target="_self" class="text-decoration-none">
                                        <div class="panel panel-primary">
                                            <div class="panel-body text-center">
                                                <span class="fa-solid fa-circle-left icon-big" aria-hidden="true"></span>
                                                <h3><span th:text="#{label.back}"></span></h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">List Clients</div>
                            <div class="panel-body" id="feature-content4">
                                <div class="col-md-12">
                                    <iframe th:src="@{/form/superuser/register/client}"
                                            style="width:100%; height:800px; border:none;"
                                            id="clientsFrame">
                                    </iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="clear:both"></div>
            </div>
        </div>
    </div>

<!-- /#wrapper -->
<!-- Menu Toggle Script -->
<script th:src="@{/js/sidebar.js?ver=2}"></script>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


</body>

</html>